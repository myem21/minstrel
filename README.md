# 💬 20고개 넘기전에 상대방의 생각을 알아내야 한다. 

---
### 게임 개요
전통적인 상대방의 생각을 읽을 수 있는 20고개 게임을 LLM을 상대로 맞춰가는 게임입니다. <br>
LLM이 게임참여자의 생각을 어떻게 읽어 가는지 알아보며, LLM을 상대로 멋진 게임동반자를 만들어 주세요. <br>

---
### 게임의 진행 순서
1. 게임전 게임참여자가 단어를 생각합니다. <br>
2. 게임시작으로 LLM 이 질문을 할때 답변을 해 주시고, 20번 질문이전에 LLM이 게임참여자의 답을 맞추면 LLM이 승리합니다. <br>

---
### 트러블슈팅 (개발 여정)
인생 상담소로 바꾸게 되었다. <br>
기존의 '인생의 선택'이라는 게임은 주인공에게 요구 사항을 전달하여 그 요구사항을 턴별로 하나씩 들어주는 게임이었다. <br>
하지만 이 게임은 주인공과 특정한 관계에 있는 사람들과 대화하는 구조의 게임으로서, 모델이 관계를 잘 해석해야 하나 이를 잘 하지 못하고 역할을 혼동하는 경우가 많았다. <br>
예를 들어 주인공이 범수, 아내가 다인이라면 다인이 어느샌가부터 범수인 듯 다인 자신에게 대답하는 것처럼 내용을 적는 경우가 생겼다. <br>
그리고 주인공의 응답에 대한 답변으로 메세지 히스토리의 요약된 형태를 제출하는(예: Human: 나는 당신과 여행을 가고 싶어요) 경우도 있었다. <br>
또한 자기 자신이라는 관계는 모델이 거의 해석하지 못하는 수준으로 요구사항을 만드는 경우가 많았다. <br>
그리고 모델이 처리해야할 또 하나의 부담으로, 턴제에서 선택받지 못하는 경우에 대한 처리도 있었다.<br>
선택받지 못했을 때도 이에 대한 내용을 전달하며 상대방의 부정적 반응을 생성하여 사용하려 했다. <br>
앞서 서술한 히스토리 제출 문제 같은 것도 그것을 처리하는 과정이 어렵기 때문에 생긴 것 같다. <br> 
그래서 관계와 턴구조를 조금 더 가볍게 만들기 위해 그러한 정보를 덜 담을 수 있는 상담으로 전향하게 되었다.<br>

기본적인 코드의 구조는 비슷하다.<br>
턴제로 진행되고 객체를 class 인스턴스로 생성하여 메세지를 저장하는 구조로 두었다. <br>
다만 미선택된 자들은 턴의 진행에서 일시 정지되는 구조로, 그리고 상담자와 내담자는 특정 관계를 갖지 않게 만들었다. <br>
결과적으로는 요구사항을 생성하는 것보다 상담 질문을 생성하는 능력이 훨씬 괜찮다는 결론을 얻게 되었다.

---
### 기술 스택
Python<br>
Streamlit (Web UI)<br>
Ollama (로컬 LLM 구동)<br>
EEVE-Korean-10.8B (GGUF)<br>

---
### 개발자 노트

---
### 회고
- 이론적으로 구성요소를 안다는 것과 실제 구현을 하는 것의 차이를 많이 느꼈다.
- 이론이 바탕이 되어야 하지만, 실제 구현능력이 없으면 반쪽짜리라 실 사용에 한계가 많음을 인지하고, 실구현을 할 수 있는 다양한 방법으로 접근을 해야 하겠다. 
- 
